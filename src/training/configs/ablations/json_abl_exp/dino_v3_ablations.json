{
  "version": 1,
  "model": "dino_v3",
  "suite_name": "dino_v3_histopathology_ablations",
  "base_config": "src/training/configs/ablations/dino_v3/exp_dino_v3_abl_base.yaml",
  "output_dir": "src/training/configs/ablations/dino_v3",
  "exp_prefix": "exp_dino_v3_abl",
  "sbatch_script": "slurm/train_single_node.sbatch",
  "experiments": [
    {
      "id": 1,
      "name": "baseline_2g6l_full_losses",
      "tags": [
        "baseline",
        "2g6l",
        "probe_val_acc",
        "gram_1.0"
      ],
      "override": {
        "train": {
          "ssl": {
            "checkpoint": {
              "metric": "probe_val_acc",
              "warmup_epochs": 2,
              "eval_every_epochs": 1,
              "probe_epochs": 15
            }
          }
        }
      }
    },
    {
      "id": 2,
      "name": "dino_only_no_patches",
      "tags": [
        "dino_only",
        "no_ibot",
        "no_gram",
        "no_koleo"
      ],
      "override": {
        "model": {
          "ssl": {
            "loss_weight": 1.0,
            "ibot_loss_weight": 0.0,
            "koleo_loss_weight": 0.0,
            "gram": {
              "lambda": 0.0
            }
          }
        }
      }
    },
    {
      "id": 3,
      "name": "patch_heavy_ibot_gram",
      "tags": [
        "ibot_strong",
        "gram_1.5",
        "2g8l",
        "local_scale_narrow"
      ],
      "override": {
        "data": {
          "dino_v3": {
            "n_local": 8,
            "local_scale": [0.04, 0.10]
          }
        },
        "model": {
          "ssl": {
            "loss_weight": 0.6,
            "ibot_loss_weight": 1.4,
            "gram": {
              "lambda": 1.5,
              "start_frac": 0.5
            }
          }
        }
      }
    },
    {
      "id": 4,
      "name": "no_gram_keep_dino_ibot",
      "tags": [
        "no_gram",
        "ibot_on",
        "2g6l"
      ],
      "override": {
        "model": {
          "ssl": {
            "gram": {
              "lambda": 0.0
            }
          }
        }
      }
    },
    {
      "id": 5,
      "name": "gram_strong_early",
      "tags": [
        "gram_2.0",
        "start_frac_0.5",
        "2g6l"
      ],
      "override": {
        "model": {
          "ssl": {
            "gram": {
              "lambda": 2.0,
              "start_frac": 0.5,
              "teacher_update_every": 5000
            }
          }
        }
      }
    },
    {
      "id": 6,
      "name": "no_ibot_dino_gram_koleo",
      "tags": [
        "no_ibot",
        "with_gram",
        "with_koleo"
      ],
      "override": {
        "model": {
          "ssl": {
            "ibot_loss_weight": 0.0,
            "loss_weight": 1.0,
            "koleo_loss_weight": 0.1,
            "gram": {
              "lambda": 1.0
            }
          }
        }
      }
    },
    {
      "id": 7,
      "name": "ibot_high_dino_low",
      "tags": [
        "ibot_1.5",
        "dino_0.7",
        "2g6l"
      ],
      "override": {
        "model": {
          "ssl": {
            "loss_weight": 0.7,
            "ibot_loss_weight": 1.5
          }
        }
      }
    },
    {
      "id": 8,
      "name": "prototypes_4k",
      "tags": [
        "protos_4096",
        "head_small"
      ],
      "override": {
        "model": {
          "ssl": {
            "head_n_prototypes": 4096,
            "koleo_loss_weight": 0.05
          }
        }
      }
    },
    {
      "id": 9,
      "name": "prototypes_16k",
      "tags": [
        "protos_16384",
        "head_big"
      ],
      "override": {
        "model": {
          "ssl": {
            "head_n_prototypes": 16384,
            "koleo_loss_weight": 0.2
          }
        }
      }
    },
    {
      "id": 10,
      "name": "ckpt_ssl_loss_after_warmup",
      "tags": [
        "ckpt_ssl_loss_after_warmup",
        "warmup5"
      ],
      "override": {
        "train": {
          "ssl": {
            "checkpoint": {
              "metric": "ssl_loss_after_warmup",
              "warmup_epochs": 5,
              "eval_every_epochs": 1,
              "probe_epochs": 15
            }
          }
        }
      }
    }
  ]
}
