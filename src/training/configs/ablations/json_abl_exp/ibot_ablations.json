{
  "version": 1,
  "model": "ibot",
  "suite_name": "ibot_histopathology_ablations",
  "base_config": "src/training/configs/ablations/ibot/exp_ibot_abl_base.yaml",
  "output_dir": "src/training/configs/ablations/ibot",
  "exp_prefix": "exp_ibot_abl",
  "sbatch_script": "slurm/train_single_node.sbatch",
  "experiments": [
    {
      "id": 1,
      "config_filename": "exp_ibot_abl01.yaml",
      "tags": ["baseline", "rcc_ref", "mask0.1-0.5", "proto8192", "temp_s0.2_t0.07"],
      "override": {}
    },
    {
      "id": 2,
      "config_filename": "exp_ibot_abl02.yaml",
      "tags": ["proto_4096", "capacity_low"],
      "override": {
        "model": {
          "ssl": {
            "num_prototypes": 4096
          }
        }
      }
    },
    {
      "id": 3,
      "config_filename": "exp_ibot_abl03.yaml",
      "tags": ["proto_16384", "capacity_high"],
      "override": {
        "model": {
          "ssl": {
            "num_prototypes": 16384
          }
        }
      }
    },
    {
      "id": 4,
      "config_filename": "exp_ibot_abl04.yaml",
      "tags": ["mask_high", "mask0.3-0.7"],
      "override": {
        "model": {
          "ssl": {
            "mask_ratio_min": 0.3,
            "mask_ratio_max": 0.7,
            "mask_ratio": 0.5
          }
        }
      }
    },
    {
      "id": 5,
      "config_filename": "exp_ibot_abl05.yaml",
      "tags": ["mask_low", "mask0.05-0.3"],
      "override": {
        "model": {
          "ssl": {
            "mask_ratio_min": 0.05,
            "mask_ratio_max": 0.3,
            "mask_ratio": 0.2
          }
        }
      }
    },
    {
      "id": 6,
      "config_filename": "exp_ibot_abl06.yaml",
      "tags": ["temp_teacher_cold", "t_t=0.04"],
      "override": {
        "model": {
          "ssl": {
            "temp_teacher": 0.04,
            "temp_teacher_patch": 0.04
          }
        }
      }
    },
    {
      "id": 7,
      "config_filename": "exp_ibot_abl07.yaml",
      "tags": ["temp_teacher_warm", "t_t=0.10"],
      "override": {
        "model": {
          "ssl": {
            "temp_teacher": 0.1,
            "temp_teacher_patch": 0.1
          }
        }
      }
    },
    {
      "id": 8,
      "config_filename": "exp_ibot_abl08.yaml",
      "tags": ["ema_fast_teacher", "ema_base_0.99", "ema_final_0.999"],
      "override": {
        "train": {
          "ssl": {
            "ema_momentum": 0.99
          }
        },
        "model": {
          "ssl": {
            "ema_momentum_final": 0.999
          }
        }
      }
    },
    {
      "id": 9,
      "config_filename": "exp_ibot_abl09.yaml",
      "tags": ["stain_normalization", "macenko_on", "jitter_delta0.01"],
      "override": {
        "aug": {
          "stain": {
            "normalize": {
              "enable": true,
              "method": "macenko"
            },
            "jitter": {
              "enable": true,
              "mode": "HED",
              "delta": 0.01
            }
          }
        }
      }
    },
    {
      "id": 10,
      "config_filename": "exp_ibot_abl10.yaml",
      "tags": ["multicrop_on", "accum8"],
      "override": {
        "model": {
          "ssl": {
            "use_multicrop": true
          }
        },
        "train": {
          "ssl": {
            "accumulate_steps": 8
          }
        }
      }
    }
  ]
}
