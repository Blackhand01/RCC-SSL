{
  "version": 1,
  "model": "moco_v3",
  "suite_name": "moco_v3_histopathology_ablations",
  "base_config": "src/training/configs/ablations/moco_v3/exp_moco_v3_abl_base.yaml",
  "output_dir": "src/training/configs/ablations/moco_v3",
  "exp_prefix": "exp_moco_v3_abl",
  "sbatch_script": "slurm/train_single_node.sbatch",
  "experiments": [
    {
      "id": 1,
      "name": "baseline_probeValAcc",
      "tags": ["baseline", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl01.yaml",
      "override": {}
    },
    {
      "id": 2,
      "name": "temp_0p1_sharp",
      "tags": ["temp_0.1", "contrastive_sharp", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl02.yaml",
      "override": {
        "model": {
          "ssl": {
            "temperature": 0.1
          }
        }
      }
    },
    {
      "id": 3,
      "name": "temp_0p4_soft",
      "tags": ["temp_0.4", "contrastive_soft", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl03.yaml",
      "override": {
        "model": {
          "ssl": {
            "temperature": 0.4
          }
        }
      }
    },
    {
      "id": 4,
      "name": "ema_0p99_fastTeacher",
      "tags": ["ema_0.99", "fast_teacher", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl04.yaml",
      "override": {
        "train": {
          "ssl": {
            "ema_momentum": 0.99
          }
        }
      }
    },
    {
      "id": 5,
      "name": "ema_0p999_slowTeacher",
      "tags": ["ema_0.999", "slow_teacher", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl05.yaml",
      "override": {
        "train": {
          "ssl": {
            "ema_momentum": 0.999
          }
        }
      }
    },
    {
      "id": 6,
      "name": "teacherTemp_sched_cool2warm",
      "tags": ["teacher_temp_schedule", "cool2warm", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl06.yaml",
      "override": {
        "model": {
          "ssl": {
            "temp_teacher_schedule": {
              "start": 0.04,
              "end": 0.2,
              "warmup_frac": 0.2
            }
          }
        }
      }
    },
    {
      "id": 7,
      "name": "teacherTemp_sched_flatWarm",
      "tags": ["teacher_temp_schedule", "flat_warmup", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl07.yaml",
      "override": {
        "model": {
          "ssl": {
            "temp_teacher_schedule": {
              "start": 0.2,
              "end": 0.2,
              "warmup_frac": 0.5
            }
          }
        }
      }
    },
    {
      "id": 8,
      "name": "histo_stainJitter_strong",
      "tags": ["stain_jitter", "hed", "histopathology", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl08.yaml",
      "override": {
        "model": {
          "ssl": {
            "aug": {
              "jitter": 0.6,
              "blur_prob": 0.2
            }
          }
        },
        "aug": {
          "stain": {
            "jitter": {
              "enable": true,
              "delta": 0.03
            }
          }
        }
      }
    },
    {
      "id": 9,
      "name": "histo_stainNorm_plusJitter_light",
      "tags": ["stain_normalization", "macenko", "stain_jitter_light", "histopathology", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl09.yaml",
      "override": {
        "model": {
          "ssl": {
            "aug": {
              "jitter": 0.2,
              "blur_prob": 0.1,
              "gray_prob": 0.1
            }
          }
        },
        "aug": {
          "stain": {
            "normalize": {
              "enable": true,
              "method": "macenko"
            },
            "jitter": {
              "enable": true,
              "delta": 0.015
            }
          }
        }
      }
    },
    {
      "id": 10,
      "name": "opt_lowLR_clip20_sslLossWarmup",
      "tags": ["low_lr", "clip_qk_20", "ssl_loss_after_warmup", "rcc", "moco_v3"],
      "config_filename": "exp_moco_v3_abl10.yaml",
      "override": {
        "model": {
          "ssl": {
            "clip_qk": 20.0
          }
        },
        "train": {
          "optim": {
            "lr": 0.00015
          },
          "ssl": {
            "accumulate_steps": 8,
            "checkpoint": {
              "metric": "ssl_loss_after_warmup",
              "warmup_epochs": 20,
              "eval_every_epochs": 1,
              "probe_epochs": 10
            }
          }
        }
      }
    }
  ]
}
